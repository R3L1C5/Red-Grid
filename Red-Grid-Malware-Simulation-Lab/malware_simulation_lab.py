import os
import time
from modules import (
    keylogger,
    ransomware,
    worm,
    stealer,
    trojan,
    rootkit,
    backdoor,
    adware,
    file_infector,
    bash_persistence
)

def clear_screen():
    os.system('clear' if os.name == 'posix' else 'cls')

def banner():
    ascii_art = r"""
         _____                         _____                           
      __|__   |__  ______  _____    __|___  |__  _____   ____  _____   
     |     |     ||   ___||     \  |   ___|    ||     | |    ||     \  
     |     \     ||   ___||      \ |   |  |    ||     \ |    ||      \ 
     |__|\__\  __||______||______/ |______|  __||__|\__\|____||______/ 
        |_____|                       |_____|                          
	
	Malware Simulation Lab – For Research Only
"""
    print(ascii_art)

def menu():
    options = {
        "1": ("Keylogger", keylogger.simulate),
        "2": ("Ransomware", ransomware.simulate),
        "3": ("Worm", worm.simulate),
        "4": ("Stealer", stealer.simulate),
        "5": ("Trojan", trojan.simulate),
        "6": ("Rootkit", rootkit.simulate),
        "7": ("Backdoor", backdoor.simulate),
        "8": ("Adware", adware.simulate),
        "9": ("File Infector", file_infector.simulate),
        "10": ("Bash Persistence", bash_persistence.simulate),
        "0": ("Exit", None)
    }

    while True:
        clear_screen()
        banner()
        print("Choose a module to simulate:\n")

        for key, (name, _) in options.items():
            print(f"{key}. {name}")

        choice = input("\nYour choice → ")

        if choice in options:
            if choice == "0":
                print("\n[+] Exiting Red Grid... Stay safe, researcher.")
                time.sleep(1)
                break
            print(f"\n[+] Launching {options[choice][0]} Simulation...\n")
            time.sleep(1)
            try:
                options[choice][1]()  # call simulate() of the selected module
            except Exception as e:
                print(f"[!] An error occurred: {e}")
            input("\nPress Enter to return to the main menu...")
        else:
            print("\n[!] Invalid option. Please try again.")
            time.sleep(1)

if __name__ == "__main__":
    menu()

